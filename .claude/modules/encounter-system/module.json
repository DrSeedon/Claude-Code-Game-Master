{
  "id": "encounter-system",
  "name": "Encounter System (Random Travel Events)",
  "version": "1.0.0",
  "author": "DM System Core",
  "description": "Random encounter checks during overland travel with distance-based segmentation, DC scaling, and waypoint mechanics for interrupted journeys",
  "category": "travel-mechanics",
  "tags": ["encounters", "travel", "random-events", "waypoints", "combat"],
  "dependencies": [],
  "soft_dependencies": [],
  "incompatible_with": [],
  "enabled_by_default": false,

  "features": [
    "Distance-based encounter segmentation (1-3 checks per journey)",
    "DC scaling by distance and time of day",
    "Character stat-based modifiers (D&D abilities, skills, or custom stats)",
    "Encounter nature categories (Dangerous, Neutral, Beneficial, Special)",
    "Waypoint creation for Combat/Social/Hazard encounters",
    "Auto-resolve for Loot/Flavor encounters",
    "Temporary waypoint locations with forward/back navigation",
    "Configurable difficulty, stats, and time modifiers"
  ],

  "activation": {
    "type": "field-based",
    "condition": "campaign_rules.encounter_system.enabled = true"
  },

  "adds_to_core": {
    "tools": ["dm-encounter.sh"],
    "commands": {
      "dm-encounter.sh toggle": "Enable/disable encounter system",
      "dm-encounter.sh status": "Show current configuration",
      "dm-encounter.sh set-base-dc <dc>": "Set base DC for encounter checks",
      "dm-encounter.sh set-distance-mod <modifier>": "Set DC increase per km",
      "dm-encounter.sh set-stat <stat_name>": "Set stat for checks (stealth, custom:awareness, etc.)",
      "dm-encounter.sh set-time-mod <time> <modifier>": "Set time-of-day DC modifier",
      "dm-encounter.sh check <from> <to> <distance_m> [terrain]": "Manual encounter check"
    },
    "data_fields": {
      "campaign_rules": {
        "encounter_system": {
          "enabled": false,
          "min_distance_meters": 300,
          "base_dc": 16,
          "distance_modifier": 2,
          "stat_to_use": "stealth",
          "use_luck": false,
          "time_dc_modifiers": {
            "Morning": 0,
            "Day": 0,
            "Evening": 2,
            "Night": 4
          }
        }
      }
    }
  },

  "use_cases": [
    "Open-world exploration (STALKER, Fallout-style)",
    "Wilderness travel with random encounters",
    "Tactical journey interruption (ambushes, patrols)",
    "Dynamic environmental events",
    "Resource scarcity (forced detours, supply finds)"
  ],

  "architecture": "DM-as-Glue: Session manager only moves party. DM calls dm-encounter.sh separately when travel occurs. No tight coupling to CORE.",

  "_status": "Active"
}
